{% block meta %}
    <title>{{ page.title|replace({'Gibbon': 'TeachNova'}) }}</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta http-equiv="content-language" content="{{ locale }}"/>
    <meta name="robots" content="noindex"/>
    <meta name="Referrer‐Policy" value="no‐referrer | same‐origin"/>
    <meta name="htmx-config" content='{"scrollBehavior":"smooth", "scrollIntoViewOnBoost": true, "historyCacheSize": 0}'>
    
        <!-- Custom TeachNova Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="{{ absoluteURL }}/favicon.ico"/>
    <link rel="icon" type="image/x-icon" href="{{ absoluteURL }}/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ absoluteURL }}/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ absoluteURL }}/favicon.ico">
    <link rel="apple-touch-icon" href="{{ absoluteURL }}/favicon.ico">
    
    {% for code in page.extraMeta %}
        {{ code|raw }}
    {% endfor %}
    
    {% if page.description is not empty %}
        <meta name="description" content="{{ page.description }}"/> 
    {% endif %}
    
    {% if page.keywords is not empty %}
        <meta name="keywords" content="{{ page.keywords }}"/>
    {% endif %}
{% endblock meta %}

{% block styles %}
    {% for asset in page.stylesheets %}
        {% set assetVersion = asset.version is not empty ? asset.version : version %}
        {% if asset.type == 'inline' %}
            <style type="text/css">{{ asset.src|raw }}</style>
        {% else %}
            <link rel="stylesheet" href="{{ absoluteURL }}/{{ asset.src }}?v={{ assetVersion }}.{{ cacheString }}" type="text/css" media="{{ asset.media }}" />
        {% endif %}
    {% endfor %}
    
    <!-- External Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Custom TeachNova Styles -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F9FAFB; /* bg-gray-50 */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .gradient-text {
            background: linear-gradient(90deg, #2563EB, #0D9488);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .hero-gradient {
            background: radial-gradient(circle at 50% 100%, #E0E7FF 0%, #F9FAFB 40%);
        }
        .cta-gradient {
            background: linear-gradient(135deg, #1E40AF 0%, #14B8A6 100%);
        }
        .worksheet-header {
            background-color: #E0F2F1; /* A soft teal */
            color: #0D9488;
        }
        .modal-backdrop {
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out;
        }
        .error-message {
            background-color: #fee2e2;
            border: 1px solid #fecaca;
            color: #991b1b;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 16px;
        }
        .alert-warning {
            background-color: #fef3cd;
            border: 1px solid #faebcc;
            color: #8a6d3b;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 16px;
        }
    </style>

{% endblock styles %}

{% block scripts %}
    {% for asset in page.scriptsHead %}
        {% set assetVersion = asset.version is not empty ? asset.version : version %}
        {% if asset.type == 'inline' %}
            <script type="text/javascript">{{ asset.src|raw }}</script>
        {% else %}
            <script type="text/javascript" src="{{ absoluteURL }}/{{ asset.src }}?v={{ assetVersion }}.{{ cacheString }}" {{ asset.type == 'defer' ? 'defer' }}></script>
        {% endif %}
    {% endfor %}

    {% for code in page.extraHead %}
        {{ code|raw }}
    {% endfor %}
{% endblock scripts %}